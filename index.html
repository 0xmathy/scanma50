<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Scan MA50 v1.2 ‚Äî Screener</title>
<style>
  :root{
    --bg:#0b1016;--panel:#0f1422;--panel-2:#121a2b;--text:#e9eef5;--muted:#9aa7b8;
    --green:#28d39b;--red:#ff6b6b;--amber:#ffc857;--blue:#8bb7ff;--outline:#1c2742;
    --chip:#0d1a2a; --chip-bd:#223052;
    --radius:14px; --gap:14px;
    --drawer-w:420px; --drawer-min:300px; --drawer-max:640px;
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0a0f19,#0b1016);color:var(--text);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu}
  .wrap{max-width:1200px;margin:28px auto;padding:0 16px}
  header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:6px}
  .title{font-weight:800;font-size:22px;letter-spacing:.2px}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .toolbar input,.btn{background:var(--panel-2);color:var(--text);border:1px solid var(--outline);border-radius:12px;padding:8px 12px}
  .btn{cursor:pointer}
  .note{color:var(--muted);font-size:12px;margin:8px 0 16px}
  #debug{display:none;margin:10px 0;padding:10px;border:1px dashed #ff6b6b;color:#ffb3b3;background:#381e1e;border-radius:12px;white-space:pre-wrap}
  #debug.show{display:block}

  .card{background:var(--panel);border:1px solid var(--outline);border-radius:var(--radius);overflow:hidden}
  .table-scroller{width:100%;overflow:auto}
  table{width:100%;border-collapse:separate;border-spacing:0; min-width:960px;}
  thead th{position:sticky;top:0;background:linear-gradient(180deg,var(--panel),var(--panel-2));
    color:#cfe0ff;text-align:left;font-weight:700;font-size:12px;text-transform:uppercase;
    letter-spacing:.5px;border-bottom:1px solid var(--outline);padding:10px 12px}
  tbody td{padding:10px 12px;border-bottom:1px solid #0e1525; vertical-align:middle;}
  tbody tr:hover{background:rgba(255,255,255,.03)}
  .token{display:flex;align-items:center;gap:10px}
  .logo{width:22px;height:22px;border-radius:7px;background:linear-gradient(135deg,#1f2846,#2a3f6f)}
  .sym{font-weight:800}
  .muted{color:var(--muted)}
  .num{font-variant-numeric:tabular-nums; white-space:nowrap;}
  .t-good{color:var(--green)} .t-warn{color:var(--amber)} .t-bad{color:var(--red)}
  @media (max-width: 1200px){ .col-optional{ display:none; } }

  .chips{display:flex;gap:8px;flex-wrap:wrap}
  .chip{font-size:12px; padding:6px 8px; border-radius:999px;background:var(--chip); border:1px solid var(--chip-bd); color:#dbe6ff;}

  .badges{display:flex;gap:8px;flex-wrap:wrap}
  .badge{font-size:12px; line-height:1; padding:7px 10px; border-radius:10px;
    border:1px solid var(--outline); background:rgba(255,255,255,.03); color:var(--text);
    white-space:nowrap; font-weight:600;}
  .b-good{ border-color: rgba(40,211,155,.45); box-shadow: inset 0 0 0 999px rgba(40,211,155,.09);}
  .b-info{ border-color: rgba(139,183,255,.45); box-shadow: inset 0 0 0 999px rgba(139,183,255,.10);}
  .b-warn{ border-color: rgba(255,200,87,.55); box-shadow: inset 0 0 0 999px rgba(255,200,87,.12);}
  .b-bad{  border-color: rgba(255,107,107,.55); box-shadow: inset 0 0 0 999px rgba(255,107,107,.12);}

  #cardsWrap{ display:none; margin-top:16px; }
  #cardsWrap.show{ display:block; }
  .grid{ display:grid; gap:var(--gap); grid-template-columns: repeat(2, minmax(0,1fr)); }
  @media (min-width:1200px){ .grid{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
  @media (max-width:800px){ .grid{ grid-template-columns: 1fr; } }
  .sig-card{background:var(--panel); border:1px solid var(--outline); border-radius:16px;
    padding:14px; box-shadow:0 6px 18px rgba(0,0,0,.28); display:flex; flex-direction:column; gap:10px;}
  .sig-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
  .sig-title{ font-weight:800; font-size:16px; letter-spacing:.2px; }
  .sig-price{ font-weight:700; }
  .sig-sub{ color:var(--muted); font-size:12px; }
  .sig-metrics{ display:flex; gap:8px; flex-wrap:wrap; }
  .sig-divider{ border:0; border-top:1px solid var(--outline); margin:8px 0; opacity:.7 }
  .sig-actions{ display:flex; justify-content:space-between; align-items:center; gap:8px; }
  .linkbar a{ color:#9ec5ff; text-decoration:none; margin-right:10px; font-size:12px; }
  .btn-ghost{ background:transparent; border:1px solid var(--outline); color:#cfe0ff; border-radius:10px; padding:6px 10px; cursor:pointer; font-size:12px; }
  .sig-explain { margin:10px 0 0 0; padding:0; list-style:none; }
  .sig-explain li { margin:0 0 12px 0; font-size:14px; line-height:1.45; color:var(--text);}
  .sig-explain .badge { margin-right:8px; vertical-align:middle;}
  .sig-explain p {margin:6px 0 0 22px; color:var(--muted);}
  #drawer{position:fixed; top:0; right:0; height:100vh; width:var(--drawer-w);
    background:var(--panel); border-left:1px solid var(--outline);
    box-shadow:-20px 0 40px rgba(0,0,0,.45); transform:translateX(100%); transition:transform .2s ease;
    z-index:1000; display:flex; flex-direction:column;}
  #drawer.open{ transform:none; }
  #drawer .head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--outline)}
  #drawer .head h3{margin:0;font-size:16px}
  #drawer .btns{display:flex;gap:8px}
  #drawer .content{padding:12px 14px; overflow:auto; flex:1}
  .kv{display:grid;grid-template-columns:auto 1fr;gap:6px;font-size:14px}
  .kv .k{color:var(--muted)}
  .links a{color:#9ec5ff;text-decoration:none;margin-right:8px}
  #drawer .resizer{position:absolute; left:-6px; top:0; width:6px; height:100%; cursor:col-resize; background:transparent;}
  #drawer .resizer:hover{ background:rgba(255,255,255,.06); }
  #backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.25); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:900; }
  #backdrop.show{ opacity:1; pointer-events:auto; }
  @media (max-width:980px){
    #drawer{ width:100%; height:70vh; left:0; right:auto; bottom:0; top:auto; border-left:0; border-top:1px solid var(--outline); transform:translateY(100%); }
    #drawer.open{ transform:translateY(0); }
    #drawer .resizer{ display:none; }
  }
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="title">Scan MA50 v1.2 ‚Äî Screener</div>
    <div class="toolbar">
      <input id="search" placeholder="Rechercher un token‚Ä¶" />
      <button id="openDetails" class="btn">üóÇÔ∏è D√©tails</button>
      <button id="btnRefresh" class="btn">‚Üª Rafra√Æchir</button>
      <label><input type="checkbox" id="autoToggle"> Auto-refresh (60s)</label>
      <label><input type="checkbox" id="cardsToggle" checked> Afficher cartes de signaux</label>
    </div>
  </header>
  <div class="note" id="lastupdate">Chargement‚Ä¶</div>
  <div id="debug"></div>
  <div class="card"><div class="table-scroller">
    <table id="screener">
      <thead><tr>
        <th>Token</th><th>Date</th><th>Prix</th><th>Œî24h</th>
        <th class="col-optional">Œî7j</th><th class="col-optional">Œî30j</th>
        <th>MC</th><th>TVL</th><th>MC/TVL</th>
        <th class="col-optional">Vol/MC (24h)</th>
        <th class="col-optional">Moy Vol7j/TVL</th>
        <th class="col-optional">Var Vol 7j/30j</th>
        <th>RSI D</th><th class="col-optional">RSI H4</th>
        <th class="col-optional">ATH</th><th>x ATH Mcap</th>
      </tr></thead>
      <tbody></tbody>
    </table>
    <div class="note" id="emptyMsg" style="display:none;padding:10px;">Aucune ligne</div>
  </div></div>
  <div id="cardsWrap"><div class="grid" id="cardsGrid"></div></div>
</div>
<div id="backdrop"></div>
<aside id="drawer"><div class="resizer" id="drawerResizer"></div>
  <div class="head"><h3 id="d-title">D√©tails</h3>
    <div class="btns"><button id="pinBtn" class="btn">üìå √âpingler</button><button id="closeDrawer" class="btn">‚úñ</button></div></div>
  <div class="content"><h4>üìä March√©</h4><div class="kv" id="d-market"></div>
    <div style="margin:10px 0;"><div id="d-signals" class="badges"></div></div>
    <hr><h4>üß© Fonda</h4><div class="kv" id="d-fonda"></div>
    <hr><h4>üì£ Social & Liens</h4><div class="kv" id="d-social"></div>
    <div class="links" id="d-links"></div>
  </div>
</aside>

<script>
/* Le gros script de gestion (voir mon message pr√©c√©dent) */
</script>
</body>
</html>
